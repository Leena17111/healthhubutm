<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create Workout Plan</title>
</head>
<body>

<h2>Create Workout Plan</h2>

<!-- PROGRAM SELECT -->
<form method="get" th:action="@{/trainer/workout-plan/create}">
    <label>Program:</label>
    <select name="programId" required>
        <option value="">-- Select Program --</option>
        <option th:each="p : ${programs}"
                th:value="${p.id}"
                th:text="${p.name}"
                th:selected="${selectedProgram != null and p.id == selectedProgram.id}">
        </option>
    </select>
    <button type="submit">Load Weeks</button>
</form>

<br>

<!-- WEEKLY PLANS -->
<form th:if="${selectedProgram != null}"
      th:action="@{/trainer/workout-plan/save}"
      method="post">

    <input type="hidden" name="programId" th:value="${selectedProgram.id}"/>

    <div th:each="week : ${#numbers.sequence(1, totalWeeks)}">
        <h4>Week <span th:text="${week}"></span></h4>

       <textarea name="descriptions"
          rows="4" cols="50"
          th:placeholder="'Workout plan for week ' + ${week}"
          required></textarea>

        <br><br>
    </div>

    <button type="submit">Save Workout Plans</button>
</form>

</body>
</html>
